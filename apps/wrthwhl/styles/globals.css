@import 'tailwindcss';

/* Custom theme colors matching original Mantine theme */
@theme {
  /* Golden ratio spacing scale (phi = 1.618) */
  --spacing-phi-xs: 0.236em;
  --spacing-phi-sm: 0.382em;
  --spacing-phi-md: 0.618em;
  --spacing-phi: 1em;
  --spacing-phi-lg: 1.382em;
  --spacing-phi-xl: 1.618em;
  --spacing-phi-2xl: 2.618em;

  /* Golden ratio border radius */
  --radius-phi: 0.618em;

  /* Dark colors (from Mantine dark palette) */
  --color-dark-0: #717d79;
  --color-dark-1: #63706b;
  --color-dark-2: #5b625f;
  --color-dark-3: #444947;
  --color-dark-4: #373b39;
  --color-dark-5: #2e3130;
  --color-dark-6: #272a29;
  --color-dark-7: #202221;
  --color-dark-8: #171918;
  --color-dark-9: #101211;

  /* Teal from original theme */
  --color-teal-0: #e0f8f3;
  --color-teal-1: #ccf3ea;
  --color-teal-2: #b8eae0;
  --color-teal-3: #a1ded2;
  --color-teal-4: #83cdc1;
  --color-teal-5: #53b9ab;
  --color-teal-6: #12a594;
  --color-teal-7: #0d9b8a;
  --color-teal-8: #008573;
  --color-teal-9: #0d3d38;

  /* Orange accent color */
  --color-orange-0: #fff4e6;
  --color-orange-1: #ffe8cc;
  --color-orange-2: #ffd8a8;
  --color-orange-3: #ffc078;
  --color-orange-4: #ffa94d;
  --color-orange-5: #ff922b;
  --color-orange-6: #fd7e14;
  --color-orange-7: #e8590c;
  --color-orange-8: #d9480f;
  --color-orange-9: #bf4000;

  /* Gray for text (light to dark: 0-9) */
  --color-gray-0: #f8f9fa;
  --color-gray-1: #f1f3f5;
  --color-gray-2: #e9ecef;
  --color-gray-3: #dee2e6;
  --color-gray-4: #ced4da;
  --color-gray-5: #adb5bd;
  --color-gray-6: #868e96;
  --color-gray-7: #495057;
  --color-gray-8: #343a40;
  --color-gray-9: #212529;

  /* Font families */
  --font-heading: 'Kufam', sans-serif;
  --font-mono:
    ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace;
}

/*
 * Accent color configuration
 * Change this ONE value to switch the entire accent color scheme.
 * Hover and print variants are automatically derived using color-mix().
 */
:root {
  --color-accent-base: var(--color-teal-5);

  /* Derived accent variants */
  --color-accent: var(--color-accent-base);
  --color-accent-hover: color-mix(in srgb, var(--color-accent-base), white 40%);
  --color-accent-print: color-mix(in srgb, var(--color-accent-base), black 30%);
}

/*
 * Theme configuration
 * Semantic color tokens that change based on theme.
 * Dark theme is the default.
 */
:root {
  /* Page colors */
  --theme-bg-page: var(--color-dark-8);
  --theme-bg-surface: var(--color-dark-6);
  --theme-bg-elevated: var(--color-dark-7);
  --theme-bg-contrast: var(--color-dark-9);

  /* Text colors */
  --theme-text-primary: var(--color-gray-2);
  --theme-text-body: var(--color-gray-2);
  --theme-text-description: var(--color-gray-4);
  --theme-text-muted: var(--color-gray-6);
  --theme-text-tertiary: var(--color-gray-7);

  /* Border colors */
  --theme-border-subtle: var(--color-dark-4);
  --theme-border-muted: var(--color-gray-8);

  /* Button colors */
  --theme-btn-ghost-text: var(--color-dark-0);
  --theme-btn-ghost-hover-bg: var(--color-dark-6);
  --theme-btn-ghost-hover-text: var(--color-gray-2);
  --theme-btn-outline-hover-bg: var(--color-dark-7);
  --theme-btn-primary-text: var(--color-dark-9);
}

/* Light theme overrides */
:root.light {
  /* Page colors */
  --theme-bg-page: var(--color-gray-2);
  --theme-bg-surface: var(--color-gray-1);
  --theme-bg-elevated: var(--color-gray-3);
  --theme-bg-contrast: var(--color-gray-4);

  /* Text colors */
  --theme-text-primary: var(--color-gray-9);
  --theme-text-body: var(--color-gray-8);
  --theme-text-description: var(--color-gray-7);
  --theme-text-muted: var(--color-gray-6);
  --theme-text-tertiary: var(--color-gray-5);

  /* Border colors */
  --theme-border-subtle: var(--color-gray-3);
  --theme-border-muted: var(--color-gray-4);

  /* Button colors */
  --theme-btn-ghost-text: var(--color-gray-8);
  --theme-btn-ghost-hover-bg: var(--color-gray-2);
  --theme-btn-ghost-hover-text: var(--color-gray-9);
  --theme-btn-outline-hover-bg: var(--color-gray-1);
  --theme-btn-primary-text: var(--color-gray-0);

  /* Adjust accent for light mode (darker for better contrast) */
  --color-accent: var(--color-teal-6);
  --color-accent-hover: var(--color-teal-7);
}

/* Base styles */
@layer base {
  body {
    background-color: var(--theme-bg-page);
    color: var(--theme-text-body);
    @apply antialiased;
  }
}

/* Component styles */
@layer components {
  .summary-text strong {
    color: var(--color-accent);
    font-weight: 900;
    font-size: 1.125rem;
    transition: color 0.15s;
  }
  .summary-text strong:hover {
    color: var(--color-accent-hover);
  }
  .summary-text em {
    color: var(--color-accent);
    font-style: normal;
    font-weight: 600;
    transition: color 0.15s;
  }
  .summary-text em:hover {
    color: var(--color-accent-hover);
  }
}

/* Scroll animations - only on screen */
@media screen {
  .animate-fade-slide-up {
    opacity: 0;
    transform: translateY(20px);
  }

  .animate-fade-slide-up.is-visible {
    animation: fadeSlideUp 0.5s ease-out forwards;
  }

  @keyframes fadeSlideUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    background: transparent !important;
    color: var(--color-gray-9) !important;
  }

  /* Darker accent for print */
  .text-accent,
  .icon-link,
  .summary-text strong,
  .summary-text em {
    color: var(--color-accent-print) !important;
    font-style: normal !important;
  }

  /* Darker grays for print - semantic classes */
  .text-body {
    color: var(--color-gray-7) !important;
  }

  .text-description {
    color: var(--color-gray-8) !important;
  }

  .text-muted,
  .text-muted-sm,
  .text-muted-xs {
    color: var(--color-gray-7) !important;
  }

  /* Print border colors */
  .border-subtle,
  .border-muted {
    border-color: var(--color-gray-6) !important;
  }
}

@page {
  margin: 0.5cm 1.5cm;
}

/* Utility classes for repeated patterns */
@layer utilities {
  /* Semantic text colors */
  .text-body {
    color: var(--theme-text-body);
  }
  .text-description {
    color: var(--theme-text-description);
  }

  /* Interactive accent text */
  .text-accent {
    color: var(--color-accent);
    cursor: default;
    transition: color 0.15s;
  }
  .text-accent:hover {
    color: var(--color-accent-hover);
  }

  /* Icon link style (slightly different hover) */
  .icon-link {
    color: var(--color-accent);
    transition: color 0.15s;
  }
  .icon-link:hover {
    color: var(--color-accent-hover);
  }

  /* Muted text variants */
  .text-muted {
    color: var(--theme-text-muted);
  }
  .text-muted-sm {
    color: var(--theme-text-muted);
    font-size: 0.875rem;
  }
  .text-muted-xs {
    color: var(--theme-text-muted);
    font-size: 0.75rem;
  }

  /* Tertiary text (dates, etc.) */
  .text-tertiary {
    color: var(--theme-text-tertiary);
  }

  /* Semantic background colors */
  .bg-surface {
    background-color: var(--theme-bg-surface);
  }
  .bg-page {
    background-color: var(--theme-bg-page);
  }
  .bg-elevated {
    background-color: var(--theme-bg-elevated);
  }
  .bg-contrast {
    background-color: var(--theme-bg-contrast);
  }

  /* Semantic border colors */
  .border-subtle {
    border-color: var(--theme-border-subtle);
  }
  .border-muted {
    border-color: var(--theme-border-muted);
  }

  /* Button semantic colors */
  .btn-primary {
    background-color: var(--color-accent);
    color: var(--theme-btn-primary-text);
    transition: background-color 0.15s;
  }
  .btn-primary:hover {
    background-color: var(--color-accent-hover);
  }
  .btn-outline {
    border: 1px solid var(--color-accent);
    background-color: transparent;
    color: var(--color-accent);
    transition:
      background-color 0.15s,
      color 0.15s;
  }
  .btn-outline:hover {
    background-color: var(--theme-btn-outline-hover-bg);
    color: var(--color-accent-hover);
  }
  .btn-ghost {
    color: var(--theme-btn-ghost-text);
    transition:
      background-color 0.15s,
      color 0.15s;
  }
  .btn-ghost:hover {
    background-color: var(--theme-btn-ghost-hover-bg);
    color: var(--theme-btn-ghost-hover-text);
  }
  .btn-link {
    color: var(--color-accent);
    text-underline-offset: 4px;
  }
  .btn-link:hover {
    text-decoration: underline;
  }

  /* Typography */
  .small-caps {
    font-variant: all-small-caps;
  }

  /* Print layout utilities */
  .print-avoid-break {
    break-inside: avoid;
  }
  .print-avoid-break-before {
    break-before: avoid;
  }
  .print-avoid-break-after {
    break-after: avoid;
  }

  /* Golden ratio spacing utilities */
  .my-phi-xl {
    margin-top: var(--spacing-phi-xl);
    margin-bottom: var(--spacing-phi-xl);
  }
  .my-phi-2xl {
    margin-top: var(--spacing-phi-2xl);
    margin-bottom: var(--spacing-phi-2xl);
  }
  .mb-phi-2xl {
    margin-bottom: var(--spacing-phi-2xl);
  }
  .mx-phi-xl {
    margin-left: var(--spacing-phi-xl);
    margin-right: var(--spacing-phi-xl);
  }
  .mx-phi-sm {
    margin-left: var(--spacing-phi-sm);
    margin-right: var(--spacing-phi-sm);
  }
  .mx-phi {
    margin-left: var(--spacing-phi);
    margin-right: var(--spacing-phi);
  }
  .my-phi-lg {
    margin-top: var(--spacing-phi-lg);
    margin-bottom: var(--spacing-phi-lg);
  }
  .mr-phi-lg {
    margin-right: var(--spacing-phi-lg);
  }
  .ml-phi {
    margin-left: var(--spacing-phi);
  }
  .mt-phi-md {
    margin-top: var(--spacing-phi-md);
  }
  .mb-phi-xs {
    margin-bottom: var(--spacing-phi-xs);
  }
  .pb-phi-xl {
    padding-bottom: var(--spacing-phi-xl);
  }
  .rounded-phi {
    border-radius: var(--radius-phi);
  }
}
